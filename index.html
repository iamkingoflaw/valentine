<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Will you be my Valentine?</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      height: 100vh;
      font-family: 'Poppins', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #ffe6eb;
      overflow: hidden;
      touch-action: none; /* Crucial for mobile performance */
    }

    .card {
      text-align: center;
      background: white;
      padding: 60px; 
      width: 90vw;
      max-width: 600px;
      min-height: 450px; 
      border-radius: 40px;
      box-shadow: 0 15px 50px rgba(0,0,0,0.1);
      z-index: 10;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      position: relative; /* Keeps "No" button inside this container */
      transition: all 0.2s ease-out;
    }

    #joke-text {
      font-size: 1rem;
      color: #ff4d6d;
      min-height: 60px;
      margin-top: 10px;
      font-weight: 800; /* Bold as requested */
      text-transform: uppercase;
    }

    h1 {
      color: #ff4d6d;
      font-size: 1.6rem;
      margin-bottom: 20px;
    }

    /* This wrapper defines the playground for the No button */
    .playground {
      width: 100%;
      flex-grow: 1;
      position: relative; 
      display: flex;
      justify-content: center;
      align-items: center;
    }

    button {
      font-size: 20px;
      font-weight: 700;
      padding: 15px 40px;
      border: none;
      border-radius: 50px;
      cursor: pointer;
    }

    #yes {
      background: #ff4d6d;
      color: white;
      z-index: 11;
      transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    #no {
      background: #fbafba;
      color: white;
      position: absolute; /* Relative to the playground */
      z-index: 12;
      transition: 0.1s ease-out;
      white-space: nowrap;
    }
  </style>
</head>
<body>

<div class="card" id="mainCard">
  <div id="joke-text">CATCH ME IF YOU CAN! üòâ</div>
  <h1>Will you be my Valentine? üåπ</h1>
  
  <div class="playground" id="playground">
    <button id="yes" onclick="yesClick()">Yes</button>
    <button id="no" onmouseover="moveNo()" onmousedown="moveNo()" ontouchstart="moveNo()">No</button>
  </div>
</div>

<script>
  let clickCount = 0;
  let scaleFactor = 1;

  const jokes = [
    "NICE TRY! üòâ", "NOT EVEN CLOSE!", "IS THAT ALL YOU GOT?", "ERROR 404: NO NOT FOUND!", 
    "YOU'RE QUITE THE CHASER!", "I CAN DO THIS ALL DAY!", "ALMOST HAD IT!", "KEEP TRYING!",
    "MISSED ME!", "TOO SLOW!", "WAIT, DID YOU SEE THAT?", "NOPE!", "NOT TODAY!", 
    "ARE YOUR FINGERS TIRED?", "I'M A NINJA!", "STILL GOING?", "JUST SAY YES!",
    "DENIED!", "YOU'RE CLICKING AIR!", "CATCH ME IF YOU CAN!", "VICTORY IS MINE!"
  ];

  function moveNo() {
    const noBtn = document.getElementById("no");
    const yesBtn = document.getElementById("yes");
    const card = document.getElementById("mainCard");
    const jokeDisplay = document.getElementById("joke-text");
    const playground = document.getElementById("playground");

    // 1. Grow the Yes button and the Card
    scaleFactor += 0.25;
    yesBtn.style.transform = `scale(${scaleFactor})`;
    
    // Expand card padding and min-height to keep the border "Larger/Longer"
    card.style.padding = (60 + (scaleFactor * 5)) + "px";
    card.style.minHeight = (450 + (scaleFactor * 20)) + "px";

    // 2. Keep "No" inside the white card
    const pWidth = playground.clientWidth;
    const pHeight = playground.clientHeight;
    const btnW = noBtn.offsetWidth;
    const btnH = noBtn.offsetHeight;

    // Boundary calculation within the playground
    const maxX = pWidth - btnW;
    const maxY = pHeight - btnH;

    let randomX, randomY;
    const yesRect = yesBtn.getBoundingClientRect();
    const playRect = playground.getBoundingClientRect();

    // Loop to prevent the "No" button from landing under the "Yes" button
    let safetyCheck = 0;
    do {
      randomX = Math.floor(Math.random() * maxX);
      randomY = Math.floor(Math.random() * maxY);
      safetyCheck++;
    } while (
      // If the random spot overlaps with where the "Yes" button is on screen
      (randomX + playRect.left < yesRect.right + 20 &&
       randomX + playRect.left + btnW > yesRect.left - 20 &&
       randomY + playRect.top < yesRect.bottom + 20 &&
       randomY + playRect.top + btnH > yesRect.top - 20) && safetyCheck < 20
    );

    noBtn.style.left = randomX + "px";
    noBtn.style.top = randomY + "px";

    // 3. Update Bold Joke
    clickCount++;
    jokeDisplay.innerText = jokes[clickCount % jokes.length];
  }

  function yesClick() {
    const card = document.getElementById("mainCard");
    document.getElementById("no").style.display = "none";
    
    card.innerHTML = `
      <h1 style='font-size: 2.5rem;'>I KNEW IT! ‚ù§Ô∏è</h1>
      <p style='color: #ff4d6d; font-weight: 800; font-size: 1.2rem;'>
        WHY DID THE SKELETON GO TO THE VALENTINE'S DANCE?<br>
        <span style='color: #333;'>TO SEE HIS GHOUL-FRIEND!</span>
      </p>
      <p>Happy Valentine's Day! üòò</p>
    `;
    document.body.style.background = "#ffb3c1";
  }
</script>

</body>
</html>
