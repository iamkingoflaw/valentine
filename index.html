<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Will you be my Valentine?</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      height: 100vh;
      font-family: 'Poppins', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #ffe6eb;
      overflow: hidden;
    }

    /* The white box container */
    .card {
      text-align: center;
      background: white;
      padding: 60px;
      width: 90vw;
      max-width: 600px;
      min-height: 450px;
      border-radius: 40px;
      box-shadow: 0 15px 50px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative; /* CRITICAL: This keeps 'No' inside the box */
      transition: all 0.3s ease;
      z-index: 10;
    }

    #joke-text {
      font-size: 1.1rem;
      color: #ff4d6d;
      min-height: 60px;
      font-weight: 800; /* BOLD Jokes */
      text-transform: uppercase;
      margin-bottom: 10px;
    }

    h1 {
      color: #ff4d6d;
      font-size: 1.8rem;
      margin-bottom: 20px;
      pointer-events: none; /* Prevents text from blocking button clicks */
    }

    button {
      font-size: 20px;
      font-weight: 700;
      padding: 15px 40px;
      border: none;
      border-radius: 50px;
      cursor: pointer;
    }

    #yes {
      background: #ff4d6d;
      color: white;
      z-index: 11;
      transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    #no {
      background: #fbafba;
      color: white;
      position: absolute; /* Locked inside .card */
      z-index: 100; /* Always above everything else */
      transition: top 0.15s ease, left 0.15s ease;
      white-space: nowrap;
    }
  </style>
</head>
<body>

<div class="card" id="mainCard">
  <div id="joke-text">CATCH ME IF YOU CAN! üòâ</div>
  <h1>Will you be my Valentine? üåπ</h1>
  
  <button id="yes" onclick="yesClick()">Yes</button>
  <button id="no" onmouseover="moveNo()" onmousedown="moveNo()">No</button>
</div>

<script>
  let clickCount = 0;
  let scaleFactor = 1;

  const jokes = [
    "NICE TRY! üòâ", "NOT EVEN CLOSE!", "IS THAT ALL YOU GOT?", 
    "YOU'RE QUITE THE CHASER!", "I CAN DO THIS ALL DAY!", 
    "MISSED ME!", "TOO SLOW!", "NOPE!", "STILL GOING?", 
    "DENIED!", "YOU'RE CLICKING AIR!", "JUST SAY YES! ‚ù§Ô∏è"
  ];

  function moveNo() {
    const noBtn = document.getElementById("no");
    const yesBtn = document.getElementById("yes");
    const card = document.getElementById("mainCard");
    const jokeDisplay = document.getElementById("joke-text");

    // 1. Grow the Yes button and the White Card
    scaleFactor += 0.25;
    yesBtn.style.transform = `scale(${scaleFactor})`;
    
    // Increase card size so the border stays "Longer and Larger"
    card.style.padding = (60 + (scaleFactor * 5)) + "px";
    card.style.minHeight = (450 + (scaleFactor * 20)) + "px";

    // 2. Teleport No button ONLY within the card boundaries
    const cardRect = card.getBoundingClientRect();
    const yesRect = yesBtn.getBoundingClientRect();
    const btnW = noBtn.offsetWidth;
    const btnH = noBtn.offsetHeight;

    // Boundary calculation
    const padding = 20;
    const maxX = card.clientWidth - btnW - padding;
    const maxY = card.clientHeight - btnH - padding;

    let randomX, randomY;
    let safetyCounter = 0;

    // Logic: Keep trying until we find a spot inside the card 
    // that isn't covered by the giant Yes button
    do {
      randomX = Math.floor(Math.random() * maxX) + (padding / 2);
      randomY = Math.floor(Math.random() * maxY) + (padding / 2);
      safetyCounter++;

      // Current position relative to the card's top-left
      const currentX = randomX + cardRect.left;
      const currentY = randomY + cardRect.top;

      // Check if this random spot overlaps with the expanding Yes button
      var isOverlapping = (
        currentX < yesRect.right + 20 &&
        currentX + btnW > yesRect.left - 20 &&
        currentY < yesRect.bottom + 20 &&
        currentY + btnH > yesRect.top - 20
      );
    } while (isOverlapping && safetyCounter < 50);

    noBtn.style.left = randomX + "px";
    noBtn.style.top = randomY + "px";

    // 3. Update Bold Joke
    clickCount++;
    jokeDisplay.innerText = jokes[clickCount % jokes.length];
  }

  function yesClick() {
    const card = document.getElementById("mainCard");
    document.getElementById("no").style.display = "none";
    
    card.style.minHeight = "auto";
    card.innerHTML = `
      <h1 style='font-size: 2.5rem;'>I KNEW IT! ‚ù§Ô∏è</h1>
      <p style='color: #ff4d6d; font-weight: 800; font-size: 1.2rem;'>
        WHAT DID THE STAMP SAY TO THE ENVELOPE?<br>
        <span style='color: #333;'>I'M STUCK ON YOU!</span>
      </p>
      <p>Happy Valentine's Day! üòò</p>
    `;
    document.body.style.background = "#ffb3c1";
  }
</script>

</body>
</html>
