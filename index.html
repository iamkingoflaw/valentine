<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Will you be my Valentine?</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  
  <style>
    :root { --primary: #ff4d6d; --secondary: #fbafba; --bg: #ffe6eb; }
    body { margin: 0; height: 100vh; font-family: 'Poppins', sans-serif; display: flex; justify-content: center; align-items: center; background: var(--bg); overflow: hidden; touch-action: none; }

    /* Sunset Silhouette Background */
    #namePortal {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('https://images.unsplash.com/photo-1518199266791-5375a83190b7?q=80&w=2070&auto=format&fit=crop') no-repeat center center;
      background-size: cover; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; z-index: 1000; padding: 20px; transition: opacity 0.8s ease;
    }

    .glass-box {
      background: rgba(255, 255, 255, 0.15); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.2); padding: 40px 25px; border-radius: 30px; box-shadow: 0 10px 40px 0 rgba(0, 0, 0, 0.4); max-width: 420px; width: 85%;
    }

    /* Main Card UI */
    .card { 
      background: white; padding: 40px; width: 90vw; max-width: 450px; height: 550px; 
      border-radius: 40px; box-shadow: 0 15px 50px rgba(0,0,0,0.1); 
      display: none; flex-direction: column; align-items: center; 
      justify-content: space-between; position: relative; overflow: hidden; z-index: 10; 
    }

    #valentineTitle { color: var(--primary); font-size: 1.8rem; text-align: center; font-weight: 800; margin-top: 20px; z-index: 100; }
    #joke-text { color: var(--primary); font-weight: 800; text-transform: uppercase; font-size: 0.75rem; height: 50px; text-align: center; z-index: 100; line-height: 1.2; padding: 0 10px; }

    /* Button Styling */
    .yes-wrapper { flex-grow: 1; display: flex; align-items: center; justify-content: center; width: 100%; }
    #yes { background: var(--primary); color: white; font-size: 20px; font-weight: 700; padding: 15px 45px; border: none; border-radius: 50px; cursor: pointer; transition: transform 0.2s; z-index: 50; }
    #no { background: var(--secondary); color: white; padding: 12px 25px; border: none; border-radius: 50px; position: absolute; cursor: pointer; transition: all 0.2s ease; z-index: 200; bottom: 50px; left: 50%; transform: translateX(-50%); white-space: nowrap; }
  </style>
</head>
<body>

  <div id="namePortal">
    <div class="glass-box">
      <h1 style="color: white; font-weight: 800;">My heart is locked.</h1>
      <p id="customText" style="color:white; margin-bottom:20px; font-style: italic;"></p>
      <input type="text" id="userName" style="padding: 15px; border-radius: 50px; border: none; width: 85%; text-align: center;" placeholder="Your name..." onkeydown="if(event.key==='Enter') startApp()">
      <button onclick="startApp()" style="background: var(--primary); color: white; border: none; padding: 15px 40px; border-radius: 50px; font-weight: 800; cursor: pointer; margin-top: 20px;">Unlock My Heart</button>
    </div>
  </div>

  <div class="card" id="mainCard">
    <div id="joke-text">THINK CAREFULLY... ğŸ˜ˆ</div>
    <h1 id="valentineTitle">Will you be my Valentine?</h1>
    <div class="yes-wrapper">
      <button id="yes" onclick="yesClick()">Yes</button>
    </div>
    <button id="no" onmouseover="moveNo()">No</button>
  </div>

<script>
  let visitorName = "", clickCount = 0, yesScale = 1, threadId = null;
  const WEBHOOK_URL = "https://discord.com/api/webhooks/1468954384997023777/oL5KyCiivYCBUM3gI0_JWhkKiBV8t6ngFZjZbanUQ_XMUc2E2oWU1_OZw4u0eFfnax7A";

  const taunts = [
    "I HAVE YOUR IP ADDRESS! ğŸ“", "SAY NO & I LEAK THE SEARCH HISTORY ğŸ”", "I'M OUTSIDE YOUR HOUSE RN ğŸ ",
    "CLICK YES OR I DELETE YOUR ROBLOX ğŸ®", "THE POLICE ARE ON THE WAY ğŸ‘®", "YOUR PHONE WILL EXPLODE IN 5... ğŸ’£",
    "I WILL TELL YOUR CRUSH YOU LIKE NICKI MINAJ ğŸ¤", "I KNOW WHERE YOU LIVE ğŸ—ºï¸", "SAY NO AND I STEAL YOUR CAT ğŸˆ",
    "JUST CLICK IT ALREADY ğŸ™„", "YOU'RE EMBARRASSING YOURSELF ğŸ¤¡", "I'VE SENT THIS TO YOUR MOM ğŸ“±",
    "DON'T MAKE ME CALL YOUR BOSS ğŸ’¼", "I'M TRACKING YOUR MOUSE ğŸ–±ï¸", "WRONG CHOICE! âŒ", "YOU CAN'T HIDE ğŸ•µï¸",
    "I WILL REPLACE YOUR SHAMPOO WITH GLUE ğŸ§´", "SAY NO AND I SPOIL THE ENDING OF YOUR FAV SHOW ğŸ“º",
    "THE 'YES' BUTTON IS GETTING HUNGRY ğŸ˜‹", "RESISTANCE IS FUTILE ğŸ¤–", "I WILL UNFOLLOW YOU ON EVERYTHING ğŸ“±",
    "YOUR WIFI IS ABOUT TO DISCONNECT ğŸ“¶", "I WILL TELL EVERYONE YOU DON'T SHOWER ğŸ§¼", "THIS IS A HOSTAGE SITUATION ğŸ”«",
    "I'M NOT MAD, JUST DISAPPOINTED ğŸ˜”", "CLICK YES OR I CANCEL YOUR NETFLIX ğŸ¿", "I WILL EAT YOUR LUNCH ğŸ±",
    "YOU'RE SO SLOW ğŸ¢", "I WILL HIDE YOUR LEFT SHOE ğŸ‘Ÿ", "SAY NO AND I SEND YOUR BROWSER TABS TO YOUR DAD ğŸ“",
    "YOU LOOK CUTE WHEN YOU'RE STRUGGLING ğŸ¥°", "ARE YOU TIRED YET? ğŸ˜´", "I WILL OVERCOOK YOUR PASTA ğŸ",
    "SAY NO AND I DE-ICE YOUR FRIDGE â„ï¸", "I WILL LEAVE YOUR FRONT DOOR SLIGHTLY AJAR ğŸšª", "I'M SENDING A CLOWN TO YOUR HOUSE ğŸ¤¡",
    "I WILL PUT SALT IN YOUR COFFEE â˜•", "YOU'RE RUNNING OUT OF SPACE ğŸ“‰", "I'M ALREADY IN YOUR WALLS ğŸ§±",
    "I WILL DRAW A MUSTACHE ON YOUR FAV POSTER ğŸ¨", "SAY NO AND I STEAL YOUR CHARGER ğŸ”‹", "I'M JUDGING YOU HARD RN ğŸ¤¨",
    "I WILL MAKE YOUR PILLOW WARM ON BOTH SIDES ğŸ›Œ", "I'M DELETING YOUR MINECRAFT WORLD â›ï¸", "JUST GIVE UP ğŸ³ï¸",
    "I WILL RE-ARRANGE YOUR APPS ğŸ“±", "I WILL TELL EVERYONE YOU'RE A FAN OF SKIBIDI TOILET ğŸš½", "YOU'RE TRAPPED ğŸ•¸ï¸",
    "I WILL PUT A SPIDER IN YOUR ROOM ğŸ•·ï¸", "SAY NO AND I TELL YOUR EX YOU STILL MISS THEM ğŸ’”",
    "I WILL SEND ANONYMOUS PIZZAS TO YOUR HOUSE (YOU PAY) ğŸ•", "YOU'RE MAKING ME CRY ğŸ˜¢", "I WILL PUT A LOUD ALARM AT 3 AM â°",
    "SAY NO AND I CHANGE YOUR WALLPAPER TO MY FACE ğŸ‘¹", "I WILL REPLACE YOUR SOCKS WITH DAMP ONES ğŸ§¦", "YOU'RE SO PREDICTABLE ğŸ”®",
    "I WILL TELL YOUR BEST FRIEND YOUR DEEPEST SECRET ğŸ¤", "I'M POSTING YOUR CRINGE PHOTOS ğŸ“¸", "YOU HAVE 3 SECONDS... â±ï¸",
    "I WILL LOWER THE VOLUME ON YOUR HEADPHONES ğŸ§", "SAY NO AND I DELETE YOUR PLAYLIST ğŸµ", "YOU'RE SWEATING, AREN'T YOU? ğŸ’¦",
    "I WILL PUT PET HAIR ON ALL YOUR CLOTHES ğŸ•", "I'M CALLING YOUR GRANDMA ğŸ‘µ", "SAY NO AND I EAT YOUR LAST COOKIE ğŸª",
    "I WILL CHANGE YOUR AUTO-CORRECT âœï¸", "YOU'RE LOOSING THIS BATTLE âš”ï¸", "I WILL SPOIL EVERY MOVIE FOR YOU ğŸ¬",
    "SAY NO AND I TELL EVERYONE YOU'RE SHORT ğŸ“", "I WILL MOVE YOUR FURNITURE BY 1 INCH ğŸ›‹ï¸", "YOU'RE ALMOST THERE! (NOT) ğŸš©",
    "I WILL PUT A ROCK IN YOUR SHOE ğŸª¨", "SAY NO AND I REPORT YOUR INSTAGRAM ğŸš«", "I WILL TELL THE GROUP CHAT EVERYTHING ğŸ—£ï¸",
    "YOU'RE SO FRAGILE ğŸ§Š", "I WILL UNTIE YOUR SHOES ğŸ‘Ÿ", "SAY NO AND I PUT LEGOS ON YOUR FLOOR ğŸ§±",
    "I WILL CHANGE YOUR ALARM SOUND TO A SCREAM ğŸ“¢", "YOU'RE STUCK WITH ME FOREVER ğŸ”—", "I WILL DRINK ALL THE MILK ğŸ¥›",
    "SAY NO AND I DELETE YOUR SAVED PASSWORDS ğŸ”‘", "I'M WATCHING YOU THROUGH THE WEBCAM (SIKE) ğŸ“¹", "YOU'RE FAILING THE TEST ğŸ“",
    "I WILL PUT A THUMBTACK ON YOUR CHAIR ğŸ“", "SAY NO AND I TELL YOUR CRUSH YOU SMELL ğŸ‘ƒ", "I WILL RE-LOCK THE DOOR ğŸ”’",
    "YOU'RE THE CHOSEN ONE... TO SAY YES ğŸŒŸ", "I WILL STEAL ALL YOUR PENS ğŸ–‹ï¸", "SAY NO AND I HIDE YOUR KEYS ğŸ”‘",
    "I WILL LEAVE ONE CRUMB IN YOUR BED ğŸ", "YOU'RE DOOMED ğŸ’€", "I WILL TELL THE INTERNET YOU'RE A BOT ğŸ¤–",
    "SAY NO AND I ACCIDENTALLY CLICK 'REPLY ALL' ğŸ“§", "I WILL MESS UP YOUR SPOTIFY WRAPPED ğŸ§", "YOU'RE RUNNING OUT OF TIME! âŒ›",
    "I WILL PUT A TINY HOLE IN ALL YOUR SOCKS ğŸ§¦", "SAY NO AND I TELL THE WORLD YOU'RE A CRYBABY ğŸ‘¶", "YOU WIN... IF YOU CLICK YES ğŸ†",
    "I WILL SEND YOU A VERY DISAPPOINTING EMAIL ğŸ“§", "SAY NO AND I SPOIL YOUR FAV BOOK ğŸ“š", "YOU'RE THE REASON I HAVE TRUST ISSUES ğŸ’”"
  ];

  async function trackEvent(event) {
    const url = threadId ? `${WEBHOOK_URL}?thread_id=${threadId}` : WEBHOOK_URL;
    const payload = {
      content: `**${event}**`,
      username: visitorName || "Valentine Bot",
      ...( !threadId && { thread_name: `Session: ${visitorName || "Guest"}` } )
    };

    try {
      const res = await fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
      if (!threadId && res.ok) { const data = await res.json(); threadId = data.id; }
    } catch (e) {}
  }

  function startApp() {
    visitorName = document.getElementById('userName').value.trim();
    if(!visitorName) return;
    trackEvent("Heart Unlocked ğŸ”“");
    document.getElementById('namePortal').style.display = "none";
    document.getElementById('mainCard').style.display = "flex";
  }

  function moveNo() {
    clickCount++;
    const card = document.getElementById("mainCard");
    const noBtn = document.getElementById("no");
    const yesBtn = document.getElementById("yes");

    // Position boundaries to avoid overlapping header
    const maxX = card.clientWidth - noBtn.offsetWidth - 50;
    const maxY = card.clientHeight - noBtn.offsetHeight - 50;
    const minY = 160; 

    noBtn.style.left = (Math.random() * maxX) + "px";
    noBtn.style.top = (Math.random() * (maxY - minY) + minY) + "px";

    // Yes button growth
    yesScale += 0.25;
    yesBtn.style.transform = `scale(${yesScale})`;
    
    // Cycle through 100 unique taunts
    document.getElementById("joke-text").innerText = taunts[clickCount % taunts.length];
    
    if(clickCount % 3 === 0) trackEvent(`Struggling: ${clickCount} misses`);
  }

  function yesClick() {
    trackEvent("ACCEPTED! â¤ï¸ğŸ’");
    confetti({ particleCount: 150, spread: 70 });
    document.getElementById("mainCard").innerHTML = `
      <div style="text-align:center; margin:auto; padding:20px;">
        <h1 style="color:var(--primary)">I KNEW YOU'D SUBMIT! â¤ï¸</h1>
        <p>You tried to escape <b>${clickCount}</b> times. Pathetic.</p>
        <p style="font-size:0.8rem; opacity:0.7;">Your surrender has been logged.</p>
      </div>
    `;
  }
</script>
</body>
</html>
